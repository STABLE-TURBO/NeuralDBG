repos:
-   repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
    -   id: trailing-whitespace
    -   id: end-of-file-fixer
    -   id: check-yaml
    -   id: check-added-large-files
    -   id: check-merge-conflict
    -   id: check-case-conflict
    -   id: check-docstring-first
    -   id: debug-statements
    -   id: detect-private-key

-   repo: https://github.com/psf/black
    rev: 23.12.1
    hooks:
    -   id: black
        language_version: python3.11

-   repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.1.9
    hooks:
    -   id: ruff
        args: [--fix, --exit-non-zero-on-fix]

-   repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.8.0
    hooks:
    -   id: mypy
        additional_dependencies: []
        args: [--config-file=mypy.ini]

-   repo: https://github.com/PyCQA/bandit
    rev: 1.7.5
    hooks:
    -   id: bandit
        args: ['-c', 'pyproject.toml', '-ll', '-r', 'neural/']
        additional_dependencies: ['bandit[toml]']

-   repo: https://github.com/Yelp/detect-secrets
    rev: v1.4.0
    hooks:
    -   id: detect-secrets
        args: ['--baseline', '.secrets.baseline']
        exclude: package.lock.json

-   repo: local
    hooks:
    -   id: check-redundant-docs
        name: Check for redundant documentation files
        entry: python -c "import sys; import re; files = [f for f in sys.argv[1:] if re.search(r'(IMPLEMENTATION_SUMMARY|IMPLEMENTATION_COMPLETE|IMPLEMENTATION_CHECKLIST|QUICK_REFERENCE|QUICK_REF|PROJECT_SUMMARY|REFACTORING_SUMMARY|PACKAGING_SUMMARY)\.md$', f) and 'CLEANUP_README' not in f]; sys.exit(1 if files and print(f'❌ Redundant docs not allowed: {files}') else 0)"
        language: system
        types: [markdown]
        pass_filenames: true
    
    -   id: check-temp-scripts
        name: Check for temporary scripts in root
        entry: python -c "import sys; import re; import os; files = [f for f in sys.argv[1:] if os.path.dirname(f) == '.' and re.search(r'^(repro_|reproduce_|fix_|skip_|temp_|_temp_)', os.path.basename(f))]; sys.exit(1 if files and print(f'❌ Temporary scripts not allowed in root: {files}') else 0)"
        language: system
        types: [python]
        pass_filenames: true
    
    -   id: check-pyc-files
        name: Check for Python cache files
        entry: python -c "import sys; files = [f for f in sys.argv[1:] if f.endswith(('.pyc', '.pyo')) or '__pycache__' in f]; sys.exit(1 if files and print(f'❌ Python cache files should not be committed: {files}') else 0)"
        language: system
        pass_filenames: true
